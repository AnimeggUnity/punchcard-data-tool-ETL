# ç­åˆ¥é©—è­‰èˆ‡ç•°å¸¸éæ¿¾åŠŸèƒ½ - è¨­è¨ˆæ–¹æ¡ˆ

> **ç‹€æ…‹**: å¾…é–‹ç™¼  
> **å»ºç«‹æ—¥æœŸ**: 2025-12-07  
> **ç›®çš„**: æ ¹æ“šçµ„åˆ¥è¦å‰‡è‡ªå‹•é©—è­‰æ‰“å¡è¨˜éŒ„ï¼Œè­˜åˆ¥ç•°å¸¸æƒ…æ³

---

## ğŸ“‹ éœ€æ±‚æ¦‚è¿°

### æ ¸å¿ƒéœ€æ±‚

1. **å¤šçµ„åˆ¥å½ˆæ€§è¦å‰‡**
   - ä¸åŒçµ„åˆ¥æœ‰ä¸åŒçš„ä¸Šç­æ™‚é–“ï¼ˆä¾‹å¦‚ï¼šæ¸…é‹ç­ 06:00ã€åœ°å‹¤ç­ 08:00ã€éšŠéƒ¨ 12:30ï¼‰
   - æ¯å€‹çµ„åˆ¥å¯èƒ½æœ‰ä¸åŒçš„æ®µæ•¸ï¼ˆ2æ®µç­ã€3æ®µç­ç­‰ï¼‰

2. **åŠ ç­æ©Ÿåˆ¶**
   - æå‰åŠ ç­ï¼šä¾‹å¦‚ 08:00 ä¸Šç­ä½† 06:00 é–‹å§‹å·¥ä½œï¼ˆåŠ ç­ 2 å°æ™‚ï¼‰
   - å»¶å¾ŒåŠ ç­ï¼šæ­£å¸¸ä¸‹ç­å¾Œç¹¼çºŒå·¥ä½œ
   - åŠ ç­å€ç‡è¨ˆç®—ï¼ˆå¦‚ 1.33ã€1.66 å€ï¼‰

3. **æ‰“å¡é©—è­‰**
   - æ¯æ®µç­éœ€åœ¨è¦å®šæ™‚é–“ç¯„åœå…§æ‰“å¡
   - æ¯æ®µç­éœ€æ»¿è¶³æœ€å°‘å·¥æ™‚è¦æ±‚ï¼ˆé€šå¸¸ 4 å°æ™‚ï¼‰
   - å€åˆ†å¿…å¡«æ®µåˆ¥å’Œé¸å¡«æ®µåˆ¥ï¼ˆåŠ ç­ï¼‰
   - **ä¼‘æ¯æ™‚é–“é©—è­‰**ï¼šå…©æ®µå·¥æ™‚ä¸­é–“å¿…é ˆè‡³å°‘é–“éš” 30 åˆ†é˜ï¼ˆå‹åŸºæ³•è¦å®šï¼‰

4. **ç•°å¸¸éæ¿¾**
   - ç¼ºå°‘å¿…å¡«æ®µåˆ¥
   - å·¥æ™‚ä¸è¶³
   - æ‰“å¡æ™‚é–“ä¸åœ¨è¦å®šç¯„åœ
   - æ®µåˆ¥ä¸å®Œæ•´ï¼ˆåªæ‰“ä¸Šç­æˆ–ä¸‹ç­ï¼‰
   - ä¼‘æ¯æ™‚é–“ä¸è¶³ï¼ˆå…©æ®µç­æ¬¡é–“éš”å°‘æ–¼ 30 åˆ†é˜ï¼‰

---

## ğŸ—‚ï¸ è³‡æ–™çµæ§‹è¨­è¨ˆ

### Excel è¦å‰‡è¡¨ï¼š`data/ç­åˆ¥è¦å‰‡.xlsx`

| çµ„åˆ¥ | ç­åˆ¥ | æ®µåˆ¥ | é¡å‹ | é–‹å§‹æ™‚é–“ | çµæŸæ™‚é–“ | æœ€å°‘å·¥æ™‚ | **é²åˆ°å®¹å¿åˆ†é˜** | æ˜¯å¦åŠ ç­ | åŠ ç­å€ç‡ | å‚™è¨» |
|------|------|------|------|---------|---------|---------|--------------|---------|---------|------|
| æ¸…é‹ç­ | æ—¥ç­ | ç¬¬ä¸€æ®µ | å¿…å¡« | 06:00 | 06:30 | 4 | 30 | å¦ | 1.0 | æ—©ç­ |
| æ¸…é‹ç­ | æ—¥ç­ | ç¬¬äºŒæ®µ | å¿…å¡« | 10:30 | 11:00 | 4 | 30 | å¦ | 1.0 | |
| åœ°å‹¤ä¸€ç­ | æ—¥ç­ | åŠ ç­æ®µ | é¸å¡« | 06:00 | 06:30 | 2 | 30 | æ˜¯ | 1.33 | æå‰åŠ ç­ |
| åœ°å‹¤ä¸€ç­ | æ—¥ç­ | ç¬¬ä¸€æ®µ | å¿…å¡« | 08:00 | 08:30 | 4 | 30 | å¦ | 1.0 | |
| åœ°å‹¤ä¸€ç­ | æ—¥ç­ | ç¬¬äºŒæ®µ | å¿…å¡« | 13:00 | 13:30 | 4 | 30 | å¦ | 1.0 | |
| åœ°å‹¤ä¸€ç­ | æ—¥ç­ | ç¬¬ä¸‰æ®µ | é¸å¡« | 18:00 | 18:30 | 2 | 30 | æ˜¯ | 1.33 | å»¶å¾ŒåŠ ç­ |
| éšŠéƒ¨ | æ—¥ç­ | ç¬¬ä¸€æ®µ | å¿…å¡« | 12:30 | 13:00 | 4 | 30 | å¦ | 1.0 | |
| éšŠéƒ¨ | æ—¥ç­ | ç¬¬äºŒæ®µ | å¿…å¡« | 17:30 | 18:00 | 4 | 30 | å¦ | 1.0 | |

**æ¬„ä½èªªæ˜**ï¼š
- **é¡å‹**: `å¿…å¡«` = æ­£å¸¸ç­æ¬¡ï¼Œ`é¸å¡«` = é€šå¸¸æ˜¯åŠ ç­
- **é²åˆ°å®¹å¿åˆ†é˜**: å¯æ¥å—çš„é²åˆ°æ™‚é–“ï¼ˆå–®ä½ï¼šåˆ†é˜ï¼‰
- **æœ€å°‘å·¥æ™‚**: æ¯æ®µç­å¿…é ˆæ»¿è¶³çš„å·¥æ™‚ï¼ˆç¡¬æ€§è¦æ±‚ï¼Œä¸æ¥å—æ—©é€€ï¼‰
- **æ˜¯å¦åŠ ç­**: ç”¨æ–¼å·¥æ™‚çµ±è¨ˆå’Œè–ªè³‡è¨ˆç®—
- **åŠ ç­å€ç‡**: åŠ ç­è²»è¨ˆç®—å€æ•¸

**é‡è¦è¦å‰‡**ï¼š
- âš ï¸ **ä¸æ¥å—æ—©é€€**ï¼šæ¯æ®µç­å¿…é ˆæ»¿è¶³æœ€å°‘å·¥æ™‚ï¼ˆé€šå¸¸4å°æ™‚ï¼‰ï¼Œä»»ä½•å·¥æ™‚ä¸è¶³çš„æƒ…æ³éƒ½è¦–ç‚ºç•°å¸¸
- ğŸ” **äººå·¥å¯©æ ¸**ï¼šå·¥æ™‚ä¸è¶³çš„ç•°å¸¸éœ€ç”±ä¸»ç®¡äººå·¥å¯©æ ¸ï¼Œæ±ºå®šæ˜¯å¦æ‰£æ¸›å·¥æ™‚æˆ–å…¶ä»–è™•ç†

---

## ğŸ—ï¸ æ¶æ§‹è¨­è¨ˆ

### æ¨¡çµ„çµæ§‹

```
services/
â”œâ”€â”€ shift_rule_manager.py      # è¦å‰‡ç®¡ç†å™¨ï¼ˆå¾ Excel è¼‰å…¥ï¼‰
â”œâ”€â”€ shift_validator.py          # ç­åˆ¥é©—è­‰å™¨
â””â”€â”€ anomaly_filter.py           # ç•°å¸¸éæ¿¾å™¨

data/
â””â”€â”€ ç­åˆ¥è¦å‰‡.xlsx               # è¦å‰‡è¡¨ï¼ˆç”±ç®¡ç†è€…ç¶­è­·ï¼‰
```

### è™•ç†æµç¨‹

```
1. è¼‰å…¥è¦å‰‡è¡¨ (ShiftRuleManager)
   â†“
2. è®€å–æ‰“å¡è³‡æ–™
   â†“
3. æ ¹æ“šçµ„åˆ¥é¸æ“‡å°æ‡‰è¦å‰‡ (ShiftValidator)
   â†“
4. é©—è­‰æ¯å€‹æ®µåˆ¥
   â†“
5. è¨ˆç®—å·¥æ™‚ï¼ˆæ­£å¸¸ + åŠ ç­ï¼‰
   â†“
6. éæ¿¾ç•°å¸¸ (AnomalyFilter)
   â†“
7. ç”Ÿæˆå ±è¡¨
```

---

## ğŸ’» æ ¸å¿ƒç¨‹å¼ç¢¼è¨­è¨ˆ

### 1. è¦å‰‡ç®¡ç†å™¨

```python
# services/shift_rule_manager.py
class ShiftRuleManager:
    """å¾ Excel è¼‰å…¥ä¸¦ç®¡ç†ç­åˆ¥è¦å‰‡"""
    
    def __init__(self, rule_file: str = 'data/ç­åˆ¥è¦å‰‡.xlsx'):
        self.rules = {}
        self._load_rules_from_excel(rule_file)
    
    def get_rules(self, group: str, shift: str) -> Dict:
        """å–å¾—ç‰¹å®šçµ„åˆ¥çš„è¦å‰‡"""
        return self.rules.get(group, {}).get(shift, {})
    
    def get_required_segments(self, group: str, shift: str) -> Dict:
        """å–å¾—å¿…å¡«æ®µåˆ¥"""
        segments = self.get_rules(group, shift)
        return {k: v for k, v in segments.items() if v['é¡å‹'] == 'å¿…å¡«'}
    
    def get_optional_segments(self, group: str, shift: str) -> Dict:
        """å–å¾—é¸å¡«æ®µåˆ¥ï¼ˆåŠ ç­ï¼‰"""
        segments = self.get_rules(group, shift)
        return {k: v for k, v in segments.items() if v['é¡å‹'] == 'é¸å¡«'}
```

### 2. ç­åˆ¥é©—è­‰å™¨

```python
# services/shift_validator.py
class ShiftValidator:
    """é©—è­‰æ‰“å¡æ˜¯å¦ç¬¦åˆç­åˆ¥è¦å‰‡"""
    
    # æ”¿åºœè¦å®šçš„æœ€å°‘ä¼‘æ¯æ™‚é–“ï¼ˆåˆ†é˜ï¼‰
    MIN_REST_PERIOD_MINUTES = 30
    
    def validate_rest_period(self, 
                           segment1_end: datetime, 
                           segment2_start: datetime,
                           min_rest_minutes: int = 30) -> Dict:
        """
        é©—è­‰å…©æ®µç­æ¬¡ä¹‹é–“çš„ä¼‘æ¯æ™‚é–“æ˜¯å¦ç¬¦åˆè¦å®š
        
        Args:
            segment1_end: ç¬¬ä¸€æ®µä¸‹ç­æ™‚é–“
            segment2_start: ç¬¬äºŒæ®µä¸Šç­æ™‚é–“
            min_rest_minutes: æœ€å°‘ä¼‘æ¯åˆ†é˜æ•¸ï¼ˆé è¨­30åˆ†é˜ï¼Œç¬¦åˆå‹åŸºæ³•ï¼‰
        
        Returns:
            {
                'is_valid': bool,
                'rest_minutes': int,
                'shortage_minutes': int,  # å¦‚æœä¸è¶³ï¼Œå·®å¤šå°‘åˆ†é˜
                'message': str
            }
        """
        rest_minutes = (segment2_start - segment1_end).total_seconds() / 60
        
        if rest_minutes >= min_rest_minutes:
            return {
                'is_valid': True,
                'rest_minutes': rest_minutes,
                'shortage_minutes': 0,
                'message': f'ä¼‘æ¯æ™‚é–“ {int(rest_minutes)} åˆ†é˜ï¼ˆç¬¦åˆè¦å®šï¼‰'
            }
        else:
            shortage = min_rest_minutes - rest_minutes
            return {
                'is_valid': False,
                'rest_minutes': rest_minutes,
                'shortage_minutes': shortage,
                'message': f'ä¼‘æ¯æ™‚é–“ä¸è¶³ï¼šåƒ… {int(rest_minutes)} åˆ†é˜ï¼Œéœ€è‡³å°‘ {min_rest_minutes} åˆ†é˜ï¼ˆçŸ­ç¼º {int(shortage)} åˆ†é˜ï¼‰'
            }
    
    def validate_punch_times(self, punch_times: List[str]) -> Dict:
        """
        é©—è­‰æ‰“å¡æ™‚é–“
        
        Returns:
            {
                'valid': bool,
                'segments': {
                    'ç¬¬ä¸€æ®µ': {'valid': True, 'duration_hours': 4.5, ...},
                    'åŠ ç­æ®µ': {'valid': True, 'duration_hours': 2.0, ...}
                },
                'summary': {
                    'æ­£å¸¸å·¥æ™‚': 8.0,
                    'åŠ ç­å·¥æ™‚': 2.0,
                    'ç¸½å·¥æ™‚': 10.0,
                    'åŠ ç­è²»': 2.66  # 2 * 1.33
                }
            }
        """
        pass
```

### 3. ç•°å¸¸éæ¿¾å™¨

```python
# services/anomaly_filter.py
class AnomalyFilter:
    """éæ¿¾æ‰“å¡ç•°å¸¸"""
    
    ANOMALY_TYPES = {
        'MISSING_REQUIRED': 'ç¼ºå°‘å¿…å¡«æ®µåˆ¥',
        'INSUFFICIENT_HOURS': 'å·¥æ™‚ä¸è¶³',
    def filter_anomalies(self, punch_data: pd.DataFrame, 
                        anomaly_types: List[str] = None,
                        min_severity: str = 'WARNING') -> pd.DataFrame:
        """
        éæ¿¾ç•°å¸¸æ‰“å¡
        
        Args:
            punch_data: æ‰“å¡è³‡æ–™
            anomaly_types: è¦éæ¿¾çš„ç•°å¸¸é¡å‹
            min_severity: æœ€ä½åš´é‡ç¨‹åº¦ï¼ˆINFO/WARNING/ERROR/CRITICALï¼‰
        
        Returns:
            åªåŒ…å«ç•°å¸¸è¨˜éŒ„çš„ DataFrameï¼ŒåŒ…å«ç•°å¸¸ç­‰ç´š
        """
        pass
```

### 4. æ™‚é–“å®¹å¿çª—å£è¨­è¨ˆ

ç‚ºäº†å€åˆ†ã€Œå¿˜è¨˜æ‰“å¡ã€å’Œã€Œè¶…æ™‚æ‰“å¡ã€ï¼Œåœ¨è¦å‰‡è¡¨ä¸­æ–°å¢å®¹å¿æ™‚é–“è¨­å®šï¼š

| çµ„åˆ¥ | ç­åˆ¥ | æ®µåˆ¥ | é–‹å§‹æ™‚é–“ | çµæŸæ™‚é–“ | **å®¹å¿åˆ†é˜** | **åš´é‡é²åˆ°åˆ†é˜** | æœ€å°‘å·¥æ™‚ |
|------|------|------|---------|---------|------------|----------------|---------|
| åœ°å‹¤ä¸€ç­ | æ—¥ç­ | ç¬¬ä¸€æ®µ | 08:00 | 08:30 | 30 | 60 | 4 |
| åœ°å‹¤ä¸€ç­ | æ—¥ç­ | ç¬¬äºŒæ®µ | 13:00 | 13:30 | 30 | 60 | 4 |

**æ¬„ä½èªªæ˜**ï¼š
- **å®¹å¿åˆ†é˜**ï¼šå¯æ¥å—çš„é²åˆ°/æ—©é€€æ™‚é–“ï¼ˆå–®ä½ï¼šåˆ†é˜ï¼‰
- **åš´é‡é²åˆ°åˆ†é˜**ï¼šè¶…éæ­¤æ™‚é–“è¦–ç‚ºåš´é‡ç•°å¸¸ï¼ˆå–®ä½ï¼šåˆ†é˜ï¼‰

### 5. è¶…æ™‚æ‰“å¡åˆ¤å®šé‚è¼¯

```python
# services/shift_validator.py (æ–°å¢æ–¹æ³•)
class ShiftValidator:
    
    def classify_punch_anomaly(self, 
                              actual_time: datetime, 
                              expected_time: datetime,
                              tolerance_minutes: int,
                              severe_minutes: int,
                              actual_hours: float,
                              required_hours: float) -> Dict:
        """
        åˆ†é¡æ‰“å¡ç•°å¸¸çš„é¡å‹å’Œåš´é‡ç¨‹åº¦
        
        Args:
            actual_time: å¯¦éš›æ‰“å¡æ™‚é–“
            expected_time: è¦å®šæ‰“å¡æ™‚é–“
            tolerance_minutes: å®¹å¿åˆ†é˜æ•¸ï¼ˆä¾‹å¦‚ï¼š30åˆ†é˜ï¼‰
            severe_minutes: åš´é‡é²åˆ°åˆ†é˜æ•¸ï¼ˆä¾‹å¦‚ï¼š60åˆ†é˜ï¼Œä½†é€šå¸¸åœ¨å¤šæ®µç­åˆ¶ä¸‹ä¸é©ç”¨ï¼‰
            actual_hours: å¯¦éš›å·¥ä½œæ™‚æ•¸
            required_hours: è¦å®šæœ€å°‘å·¥æ™‚
        
        Returns:
            {
                'anomaly_type': str,        # ç•°å¸¸é¡å‹
                'severity': str,            # åš´é‡ç¨‹åº¦
                'time_diff_minutes': int,   # æ™‚é–“å·®è·ï¼ˆåˆ†é˜ï¼‰
                'hours_diff': float,        # å·¥æ™‚å·®è·
                'is_valid': bool,           # æ˜¯å¦é€šéé©—è­‰
                'message': str              # èªªæ˜è¨Šæ¯
            }
        
        **é—œéµé‚è¼¯èªªæ˜**ï¼š
        åœ¨å¤šæ®µç­åˆ¶ä¸‹ï¼Œç”±æ–¼æ®µåˆ¥ä¹‹é–“æœ‰å›ºå®šæ™‚é–“é™åˆ¶ï¼Œé²åˆ°æ™‚é–“å’Œå·¥æ™‚æ˜¯**å¼·é—œè¯**çš„ï¼š
        - è¼•å¾®é²åˆ°ï¼ˆ<å®¹å¿æ™‚é–“ï¼‰ï¼šä»å¯èƒ½æ»¿è¶³å·¥æ™‚
        - åš´é‡é²åˆ°ï¼ˆ>å®¹å¿æ™‚é–“ï¼‰ï¼šå¹¾ä¹å¿…ç„¶å·¥æ™‚ä¸è¶³
        å› æ­¤ä¸æœƒå‡ºç¾ã€Œé²åˆ°å¾ˆä¹…ä½†å·¥æ™‚ä»è¶³å¤ ã€çš„æƒ…æ³
        """
        time_diff = (actual_time - expected_time).total_seconds() / 60
        hours_diff = actual_hours - required_hours
        
        # æƒ…æ³1ï¼šåœ¨å®¹å¿ç¯„åœå…§ä¸”å·¥æ™‚è¶³å¤ 
        if abs(time_diff) <= tolerance_minutes and hours_diff >= 0:
            return {
                'anomaly_type': None,
                'severity': 'INFO',
                'time_diff_minutes': time_diff,
                'hours_diff': hours_diff,
                'is_valid': True,
                'message': 'æ­£å¸¸æ‰“å¡'
            }
        
        # æƒ…æ³2ï¼šè¼•å¾®é²åˆ°ï¼ˆåœ¨å®¹å¿ç¯„åœå…§ï¼‰ä½†å·¥æ™‚ä¸è¶³
        elif abs(time_diff) <= tolerance_minutes and hours_diff < 0:
            return {
                'anomaly_type': 'INSUFFICIENT_HOURS',
                'severity': 'ERROR',
                'time_diff_minutes': time_diff,
                'hours_diff': hours_diff,
                'is_valid': False,
                'message': f'å·¥æ™‚ä¸è¶³ {abs(hours_diff):.1f} å°æ™‚'
            }
        
        # æƒ…æ³3ï¼šè¶…éå®¹å¿æ™‚é–“ä¸”å·¥æ™‚è¶³å¤ ï¼ˆåƒ…åœ¨å®¹å¿ç¯„åœå¤–ä¸€é»é»çš„æƒ…æ³ï¼‰
        elif tolerance_minutes < time_diff <= severe_minutes and hours_diff >= 0:
            return {
                'anomaly_type': 'LATE_BUT_SUFFICIENT',
                'severity': 'WARNING',
                'time_diff_minutes': time_diff,
                'hours_diff': hours_diff,
                'is_valid': True,  # è¦–ç‚ºé€šéä½†éœ€è­¦å‘Š
                'message': f'é²åˆ° {int(time_diff)} åˆ†é˜ï¼Œä½†å·¥æ™‚è¶³å¤ '
            }
        
        # æƒ…æ³4ï¼šé²åˆ°ä¸”å·¥æ™‚ä¸è¶³ï¼ˆæœ€å¸¸è¦‹çš„ç•°å¸¸æƒ…æ³ï¼‰
        elif time_diff > tolerance_minutes and hours_diff < 0:
            # åˆ¤å®šåš´é‡ç¨‹åº¦ï¼šé²åˆ°è¶Šä¹…ã€å·¥æ™‚å·®è¶Šå¤§ -> è¶Šåš´é‡
            if time_diff > severe_minutes or abs(hours_diff) >= 2:
                severity = 'CRITICAL'
            else:
                severity = 'ERROR'
            
            return {
                'anomaly_type': 'WRONG_TIME',
                'severity': severity,
                'time_diff_minutes': time_diff,
                'hours_diff': hours_diff,
                'is_valid': False,
                'message': f'é²åˆ° {int(time_diff)} åˆ†é˜ä¸”å·¥æ™‚ä¸è¶³ {abs(hours_diff):.1f} å°æ™‚'
            }
        
        # æƒ…æ³5ï¼šæå‰æ‰“å¡ï¼ˆå¯èƒ½æ˜¯åŠ ç­æˆ–èª¿ç­ï¼‰
        elif time_diff < -tolerance_minutes:
            return {
                'anomaly_type': 'EARLY_OVERTIME',
                'severity': 'INFO',
                'time_diff_minutes': time_diff,
                'hours_diff': hours_diff,
                'is_valid': True,
                'message': f'æå‰ {int(abs(time_diff))} åˆ†é˜æ‰“å¡ï¼ˆå¯èƒ½åŠ ç­ï¼‰'
            }
        
        # å…¶ä»–æœªé æœŸçš„æƒ…æ³
        else:
            return {
                'anomaly_type': 'UNKNOWN',
                'severity': 'WARNING',
                'time_diff_minutes': time_diff,
                'hours_diff': hours_diff,
                'is_valid': False,
                'message': 'æœªçŸ¥ç•°å¸¸æƒ…æ³ï¼Œéœ€äººå·¥å¯©æ ¸'
            }
```

---

## ğŸ¯ ä½¿ç”¨æƒ…å¢ƒç¯„ä¾‹

### æƒ…å¢ƒ 1ï¼šæ­£å¸¸å…©æ®µç­

**åœ°å‹¤ä¸€ç­ï¼Œæ­£å¸¸ä¸Šç­ï¼ˆå®Œæ•´å·¥æ™‚ï¼‰**

æ‰“å¡æ™‚é–“ï¼š`08:15, 12:20, 13:00, 17:05`

é©—è­‰çµæœï¼š
```
âœ“ ç¬¦åˆè¦å‰‡
- ç¬¬ä¸€æ®µï¼š08:15-12:20 (4.08å°æ™‚) â†’ âœ“ é²åˆ°15åˆ†é˜ä½†å·¥æ™‚è¶³å¤ 
- ä¼‘æ¯æ™‚é–“ï¼š12:20-13:00 (40åˆ†é˜) â†’ âœ“
- ç¬¬äºŒæ®µï¼š13:00-17:05 (4.08å°æ™‚) â†’ âœ“
æ­£å¸¸å·¥æ™‚ï¼š8.16å°æ™‚
```

### æƒ…å¢ƒ 2ï¼šæå‰åŠ ç­

**åœ°å‹¤ä¸€ç­ï¼Œæå‰ 2 å°æ™‚åŠ ç­**

æ‰“å¡æ™‚é–“ï¼š`06:00, 12:00, 13:00, 17:00`

é©—è­‰çµæœï¼š
```
âœ“ ç¬¦åˆè¦å‰‡
- åŠ ç­æ®µï¼š06:00-12:00 (6å°æ™‚ï¼Œå–æœ€å°‘2å°æ™‚) â†’ âœ“
- ç¬¬ä¸€æ®µï¼šå·²åŒ…å«åœ¨ä¸Šåˆæ™‚æ®µ
- ç¬¬äºŒæ®µï¼š13:00-17:00 (4.0å°æ™‚) â†’ âœ“
æ­£å¸¸å·¥æ™‚ï¼š4å°æ™‚
åŠ ç­å·¥æ™‚ï¼š2å°æ™‚ (å€ç‡ 1.33)
åŠ ç­è²»ï¼š2.66å°æ™‚
```

### æƒ…å¢ƒ 3ï¼šç•°å¸¸æ‰“å¡ - å·¥æ™‚ä¸è¶³

**éšŠéƒ¨ï¼Œç¬¬äºŒæ®µå·¥æ™‚ä¸è¶³**

æ‰“å¡æ™‚é–“ï¼š`12:45, 17:00, 17:30, 20:00`

é©—è­‰çµæœï¼š
```
âœ— ä¸ç¬¦åˆè¦å‰‡
- ç¬¬ä¸€æ®µï¼š12:45-17:00 (4.25å°æ™‚) â†’ âœ“
- ç¬¬äºŒæ®µï¼š17:30-20:00 (2.5å°æ™‚) â†’ âœ— å·¥æ™‚ä¸è¶³ï¼ˆéœ€4å°æ™‚ï¼‰

ç•°å¸¸é¡å‹ï¼šINSUFFICIENT_HOURS
åš´é‡ç¨‹åº¦ï¼šERROR
è©³ç´°èªªæ˜ï¼šç¬¬äºŒæ®µ: å·¥æ™‚ä¸è¶³ 2.5 < 4.0
```

### æƒ…å¢ƒ 4ï¼šè¼•å¾®é²åˆ°ä½†å·¥æ™‚è¶³å¤ 

**åœ°å‹¤ä¸€ç­ï¼Œ08:02 æ‰“å¡ï¼ˆé²åˆ°2åˆ†é˜ï¼‰**

æ‰“å¡æ™‚é–“ï¼š`08:02, 12:15, 13:00, 17:05`

é©—è­‰çµæœï¼š
```
âš  è­¦å‘Šï¼ˆä½†è¦–ç‚ºæœ‰æ•ˆï¼‰
- ç¬¬ä¸€æ®µï¼š08:02-12:15 (4.22å°æ™‚) â†’ âš  é²åˆ°2åˆ†é˜ï¼Œä½†å·¥æ™‚è¶³å¤ 
- ç¬¬äºŒæ®µï¼š13:00-17:05 (4.08å°æ™‚) â†’ âœ“

ç•°å¸¸é¡å‹ï¼šLATE_BUT_SUFFICIENT
åš´é‡ç¨‹åº¦ï¼šWARNING
æ™‚é–“å·®è·ï¼šé²åˆ° 2 åˆ†é˜
å·¥æ™‚å·®è·ï¼š+0.22 å°æ™‚ï¼ˆè¶…éæœ€å°‘å·¥æ™‚ï¼‰
è©³ç´°èªªæ˜ï¼šé²åˆ° 2 åˆ†é˜ï¼Œä½†å·¥æ™‚è¶³å¤ 
```

### æƒ…å¢ƒ 4-1ï¼šæ—©é€€å°è‡´å·¥æ™‚ä¸è¶³ï¼ˆä¸æ¥å—ï¼‰

**åœ°å‹¤ä¸€ç­ï¼Œ08:15 æ‰“å¡ä½† 12:00 å°±ä¸‹ç­ï¼ˆæ—©é€€15åˆ†é˜ï¼‰**

æ‰“å¡æ™‚é–“ï¼š`08:15, 12:00, 13:00, 17:00`

é©—è­‰çµæœï¼š
```
âœ— ä¸ç¬¦åˆè¦å‰‡
- ç¬¬ä¸€æ®µï¼š08:15-12:00 (3.75å°æ™‚) â†’ âœ— å·¥æ™‚ä¸è¶³0.25å°æ™‚ï¼ˆæ—©é€€15åˆ†é˜ï¼‰
- ç¬¬äºŒæ®µï¼š13:00-17:00 (4.0å°æ™‚) â†’ âœ“

ç•°å¸¸é¡å‹ï¼šINSUFFICIENT_HOURS
åš´é‡ç¨‹åº¦ï¼šERROR
å·¥æ™‚å·®è·ï¼šç¬¬ä¸€æ®µçŸ­ç¼º 0.25 å°æ™‚
è©³ç´°èªªæ˜ï¼šç¬¬ä¸€æ®µå·¥æ™‚ä¸è¶³ï¼ˆ3.75å°æ™‚ < 4å°æ™‚ï¼‰ï¼Œä¸æ¥å—æ—©é€€
å»ºè­°è™•ç†ï¼šéœ€ä¸»ç®¡äººå·¥å¯©æ ¸ï¼Œæ±ºå®šæ˜¯å¦æ‰£æ¸›å·¥æ™‚ï¼ˆä¾‹å¦‚æ‰£1å°æ™‚ï¼‰æˆ–è¦æ±‚è£œæ‰“å¡èªªæ˜
```

### æƒ…å¢ƒ 5ï¼šåš´é‡é²åˆ°å°è‡´å·¥æ™‚ä¸è¶³

**åœ°å‹¤ä¸€ç­ï¼Œ12:02 æ‰“ç¬¬ä¸€æ®µå¡ï¼ˆé²åˆ°è¶…é4å°æ™‚ï¼‰**

æ‰“å¡æ™‚é–“ï¼š`12:02, 12:50, 13:00, 17:05`

é©—è­‰çµæœï¼š
```
âœ— ä¸ç¬¦åˆè¦å‰‡
- ç¬¬ä¸€æ®µï¼š12:02-12:50 (0.8å°æ™‚) â†’ âœ— åš´é‡é²åˆ°ä¸”å·¥æ™‚ä¸è¶³3.2å°æ™‚
- ç¬¬äºŒæ®µï¼š13:00-17:05 (4.08å°æ™‚) â†’ âœ“

ç•°å¸¸é¡å‹ï¼šWRONG_TIME, INSUFFICIENT_HOURS
åš´é‡ç¨‹åº¦ï¼šCRITICAL
æ™‚é–“å·®è·ï¼šé²åˆ° 242 åˆ†é˜ï¼ˆ4å°æ™‚2åˆ†é˜ï¼‰
å·¥æ™‚å·®è·ï¼š-3.2 å°æ™‚ï¼ˆåš´é‡ä¸è¶³ï¼‰
è©³ç´°èªªæ˜ï¼šç”±æ–¼ç¬¬ä¸€æ®µåœ¨12:02æ‰æ‰“å¡ï¼Œè·é›¢ç¬¬äºŒæ®µé–‹å§‹ï¼ˆ13:00ï¼‰ä¸åˆ°1å°æ™‚ï¼Œç„¡æ³•æ»¿è¶³4å°æ™‚å·¥æ™‚è¦æ±‚
å»ºè­°è™•ç†ï¼šæ­¤æƒ…æ³å¹¾ä¹å¯ç¢ºå®šç‚ºã€Œå¿˜è¨˜æ‰“ä¸Šåˆçš„å¡ã€ï¼Œéœ€è£œç™»æˆ–èªªæ˜åŸå› 

ğŸ’¡ **é‡è¦èªªæ˜**ï¼š
åœ¨å¤šæ®µç­åˆ¶ä¸‹ï¼Œç”±æ–¼æ®µåˆ¥ä¹‹é–“æœ‰å›ºå®šçš„æ™‚é–“é™åˆ¶ï¼Œã€Œåš´é‡é²åˆ°ä½†å·¥æ™‚è¶³å¤ ã€çš„æƒ…æ³**ç†è«–ä¸Šä¸æœƒç™¼ç”Ÿ**ã€‚
ä¾‹å¦‚ï¼š08:00ä¸Šç­çš„ç¬¬ä¸€æ®µï¼Œå¦‚æœåœ¨08:30å‰æ²’æ‰“å¡ï¼Œç”±æ–¼ç¬¬äºŒæ®µåœ¨13:00é–‹å§‹ï¼Œæœ€å¤šåªèƒ½å·¥ä½œç´„4.5å°æ™‚ã€‚
è‹¥é²åˆ°è¶…é30åˆ†é˜ï¼ˆå®¹å¿ç¯„åœï¼‰ï¼Œå¹¾ä¹ä¸å¯èƒ½å®Œæ•´æ»¿è¶³4å°æ™‚å·¥æ™‚ã€‚
```

### æƒ…å¢ƒ 6ï¼šå¿˜è¨˜æ‰“å¡ï¼ˆå®Œå…¨æ²’æœ‰æ‰“å¡è¨˜éŒ„ï¼‰

**æ¸…é‹ç­ï¼Œç¼ºå°‘ç¬¬äºŒæ®µæ‰“å¡**

æ‰“å¡æ™‚é–“ï¼š`06:15, 10:00`ï¼ˆåªæœ‰ç¬¬ä¸€æ®µçš„ä¸Šä¸‹ç­æ‰“å¡ï¼‰

é©—è­‰çµæœï¼š
```
âœ— ä¸ç¬¦åˆè¦å‰‡
- ç¬¬ä¸€æ®µï¼š06:15-10:00 (3.75å°æ™‚) â†’ âœ“
- ç¬¬äºŒæ®µï¼šç„¡æ‰“å¡è¨˜éŒ„ â†’ âœ— ç¼ºå°‘å¿…å¡«æ®µåˆ¥

ç•°å¸¸é¡å‹ï¼šMISSING_REQUIRED
åš´é‡ç¨‹åº¦ï¼šCRITICAL
è©³ç´°èªªæ˜ï¼šç¼ºå°‘å¿…å¡«æ®µåˆ¥ã€Œç¬¬äºŒæ®µã€çš„æ‰“å¡è¨˜éŒ„
å»ºè­°è™•ç†ï¼šè«‹å“¡å·¥è£œæ‰“å¡æˆ–èªªæ˜åŸå› ï¼ˆè«‹å‡ã€å¤–å‹¤ç­‰ï¼‰
```

### æƒ…å¢ƒ 7ï¼šè¼•å¾®é²åˆ°ä¸”å·¥æ™‚ä¸è¶³

**åœ°å‹¤ä¸€ç­ï¼Œ08:35 æ‰“å¡ä¸”ä¸‹åˆæ—©é€€**

æ‰“å¡æ™‚é–“ï¼š`08:35, 12:00, 13:00, 16:30`

é©—è­‰çµæœï¼š
```
âœ— ä¸ç¬¦åˆè¦å‰‡
- ç¬¬ä¸€æ®µï¼š08:35-12:00 (3.42å°æ™‚) â†’ âœ— é²åˆ°35åˆ†é˜ä¸”å·¥æ™‚ä¸è¶³0.58å°æ™‚
- ç¬¬äºŒæ®µï¼š13:00-16:30 (3.5å°æ™‚) â†’ âœ— å·¥æ™‚ä¸è¶³0.5å°æ™‚

ç•°å¸¸é¡å‹ï¼šWRONG_TIME, INSUFFICIENT_HOURS
åš´é‡ç¨‹åº¦ï¼šERROR
è©³ç´°èªªæ˜ï¼š
  - ç¬¬ä¸€æ®µï¼šé²åˆ° 35 åˆ†é˜ä¸”å·¥æ™‚ä¸è¶³ 0.6 å°æ™‚
  - ç¬¬äºŒæ®µï¼šå·¥æ™‚ä¸è¶³ 0.5 å°æ™‚
```

### æƒ…å¢ƒ 8ï¼šä¼‘æ¯æ™‚é–“ä¸è¶³ï¼ˆé•åå‹åŸºæ³•ï¼‰

**åœ°å‹¤ä¸€ç­ï¼Œç¬¬ä¸€æ®µå»¶å¾Œä¸‹ç­å°è‡´ä¼‘æ¯æ™‚é–“ä¸è¶³**

æ‰“å¡æ™‚é–“ï¼š`08:00, 12:45, 13:00, 17:00`

é©—è­‰çµæœï¼š
```
âœ— ä¸ç¬¦åˆè¦å‰‡
- ç¬¬ä¸€æ®µï¼š08:00-12:45 (4.75å°æ™‚) â†’ âœ“ å·¥æ™‚è¶³å¤ 
- ä¼‘æ¯æ™‚é–“ï¼š12:45-13:00 (15åˆ†é˜) â†’ âœ— ä¼‘æ¯æ™‚é–“ä¸è¶³ï¼ˆéœ€è‡³å°‘30åˆ†é˜ï¼‰
- ç¬¬äºŒæ®µï¼š13:00-17:00 (4.0å°æ™‚) â†’ âœ“

ç•°å¸¸é¡å‹ï¼šINSUFFICIENT_REST
åš´é‡ç¨‹åº¦ï¼šERROR
è©³ç´°èªªæ˜ï¼šå…©æ®µç­æ¬¡ä¹‹é–“ä¼‘æ¯æ™‚é–“åƒ… 15 åˆ†é˜ï¼ŒçŸ­ç¼º 15 åˆ†é˜ï¼ˆå‹åŸºæ³•è¦å®šè‡³å°‘30åˆ†é˜ï¼‰
å»ºè­°è™•ç†ï¼šéœ€èª¿æ•´æ‰“å¡æ™‚é–“æˆ–èªªæ˜ç‰¹æ®Šæƒ…æ³
```

**å¦ä¸€å€‹ç¯„ä¾‹ï¼šå®Œå…¨æ²’æœ‰ä¼‘æ¯æ™‚é–“**

æ‰“å¡æ™‚é–“ï¼š`08:00, 13:00, 13:00, 17:00`ï¼ˆç¬¬ä¸€æ®µä¸‹ç­å’Œç¬¬äºŒæ®µä¸Šç­åŒæ™‚ï¼‰

é©—è­‰çµæœï¼š
```
âœ— åš´é‡é•è¦
- ç¬¬ä¸€æ®µï¼š08:00-13:00 (5.0å°æ™‚) â†’ âœ“
- ä¼‘æ¯æ™‚é–“ï¼š13:00-13:00 (0åˆ†é˜) â†’ âœ— å®Œå…¨æ²’æœ‰ä¼‘æ¯æ™‚é–“
- ç¬¬äºŒæ®µï¼š13:00-17:00 (4.0å°æ™‚) â†’ âœ“

ç•°å¸¸é¡å‹ï¼šINSUFFICIENT_REST
åš´é‡ç¨‹åº¦ï¼šCRITICAL
è©³ç´°èªªæ˜ï¼šå…©æ®µç­æ¬¡ä¹‹é–“æ²’æœ‰ä¼‘æ¯æ™‚é–“ï¼Œåš´é‡é•åå‹åŸºæ³•è¦å®šï¼ˆéœ€è‡³å°‘30åˆ†é˜ï¼‰
å»ºè­°è™•ç†ï¼šæ­¤ç‚ºåš´é‡é•è¦ï¼Œå¿…é ˆä¿®æ­£æ‰“å¡è¨˜éŒ„
```

---

## ğŸ–¥ï¸ GUI ç•Œé¢è¨­è¨ˆ

### ç•°å¸¸éæ¿¾ç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰“å¡ç•°å¸¸éæ¿¾                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é¸æ“‡æ—¥æœŸï¼š[2025-12-07] [æ—¥æ›†]          â”‚
â”‚                                          â”‚
â”‚  ç•°å¸¸é¡å‹ï¼š                              â”‚
â”‚  â˜‘ ç¼ºå°‘å¿…å¡«æ®µåˆ¥                         â”‚
â”‚  â˜‘ å·¥æ™‚ä¸è¶³                             â”‚
â”‚  â˜‘ æ‰“å¡æ™‚é–“éŒ¯èª¤                         â”‚
â”‚  â˜‘ æ®µåˆ¥ä¸å®Œæ•´                           â”‚
â”‚                                          â”‚
â”‚  [æŸ¥è©¢ç•°å¸¸] [åŒ¯å‡º Excel]                â”‚
â”‚                                          â”‚
â”‚  âš  ç™¼ç¾ 3 ç­†ç•°å¸¸                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ #1 å¼µä¸‰ (A001) - æ¸…é‹ç­            â”‚ â”‚
â”‚  â”‚   ç•°å¸¸: ç¬¬äºŒæ®µå·¥æ™‚ä¸è¶³             â”‚ â”‚
â”‚  â”‚                                    â”‚ â”‚
â”‚  â”‚ #2 æå›› (B002) - åœ°å‹¤ä¸€ç­          â”‚ â”‚
â”‚  â”‚   ç•°å¸¸: æœªåœ¨è¦å®šæ™‚é–“æ‰“ç¬¬ä¸€æ®µå¡     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š å ±è¡¨è¼¸å‡ºç¯„ä¾‹

### ç•°å¸¸æ‰“å¡å ±è¡¨ Excel

| æ—¥æœŸ | å…¬å‹™å¸³è™Ÿ | å§“å | çµ„åˆ¥ | ç•°å¸¸é¡å‹ | è©³ç´°èªªæ˜ | æ‰“å¡æ™‚é–“ |
|------|---------|------|------|---------|---------|---------|
| 2025-12-07 | A001 | å¼µä¸‰ | æ¸…é‹ç­ | å·¥æ™‚ä¸è¶³ | ç¬¬äºŒæ®µ: å·¥æ™‚ä¸è¶³ 2.5 < 4.0 | 06:00, 10:00, 10:30, 13:00 |
| 2025-12-07 | B002 | æå›› | åœ°å‹¤ä¸€ç­ | æ‰“å¡æ™‚é–“éŒ¯èª¤ | ç¬¬ä¸€æ®µ: æœªåœ¨ 08:00-08:30 æ‰“å¡ | 09:00, 13:00, 13:30, 17:30 |

---

## âš ï¸ å¾…ç¢ºèªéœ€æ±‚

### éœ€èˆ‡ä½¿ç”¨è€…ç¢ºèªçš„é …ç›®

1. **è¦å‰‡è¡¨ç¶­è­·**
   - [ ] ç”±èª°è² è²¬ç¶­è­· `ç­åˆ¥è¦å‰‡.xlsx`ï¼Ÿ
   - [ ] è¦å‰‡è®Šæ›´é »ç‡ï¼Ÿ
   - [ ] æ˜¯å¦éœ€è¦è¦å‰‡ç‰ˆæœ¬æ§åˆ¶ï¼Ÿ

2. **åŠ ç­èªå®š**
   - [ ] åŠ ç­æ˜¯å¦éœ€è¦äº‹å‰ç”³è«‹/å¯©æ ¸ï¼Ÿ
   - [ ] å¦‚ä½•å€åˆ†ã€Œå¿˜è¨˜æ‰“å¡ã€å’Œã€ŒçœŸçš„åŠ ç­ã€ï¼Ÿ
   - [ ] åŠ ç­å€ç‡æ˜¯å›ºå®šçš„å—ï¼Ÿï¼ˆå¹³æ—¥/å‡æ—¥å¯èƒ½ä¸åŒï¼‰

3. **ç•°å¸¸è™•ç†**
   - [ ] ç™¼ç¾ç•°å¸¸å¾Œçš„è™•ç†æµç¨‹ï¼Ÿï¼ˆé€šçŸ¥ï¼Ÿäººå·¥å¯©æ ¸ï¼Ÿï¼‰
   - [ ] æ˜¯å¦éœ€è¦ã€Œç•°å¸¸å¿½ç•¥ã€åŠŸèƒ½ï¼Ÿï¼ˆç‰¹æ®Šæƒ…æ³è±å…ï¼‰
   - [ ] ç•°å¸¸å ±è¡¨çš„ç™¼é€å°è±¡ï¼Ÿ

4. **å½ˆæ€§æ®µæ•¸**
   - [ ] æœ€å¤šæ”¯æ´å¹¾æ®µç­ï¼Ÿ
   - [ ] ä¸‰æ®µç­çš„å·¥æ™‚å¦‚ä½•è¨ˆç®—ï¼Ÿ
   - [ ] æ˜¯å¦æœ‰ã€Œä¸å®šæ®µæ•¸ã€çš„çµ„åˆ¥ï¼Ÿ

5. **ç‰¹æ®Šæƒ…æ³**
   - [ ] è«‹å‡/å…¬å‡ºå¦‚ä½•è™•ç†?
   - [ ] è·¨æ—¥ç­æ¬¡ï¼ˆå¤œç­ï¼‰å¦‚ä½•è¨ˆç®—?
   - [ ] åœ‹å®šå‡æ—¥çš„è¦å‰‡æ˜¯å¦ä¸åŒ?
   - [ ] ä¼‘æ¯æ™‚é–“ä¸è¶³æ˜¯å¦å…è¨±ä¾‹å¤–ï¼Ÿï¼ˆä¾‹å¦‚ï¼šç·Šæ€¥ä»»å‹™ã€ç‰¹æ®Šå·¥ä½œæ€§è³ªï¼‰
   - [ ] ä¼‘æ¯æ™‚é–“è¨ˆç®—æ˜¯å¦åŒ…å«ç”¨é¤æ™‚é–“ï¼Ÿ

---

## ğŸš€ å¯¦ä½œå„ªå…ˆç´šå»ºè­°

### Phase 1ï¼šåŸºç¤åŠŸèƒ½ï¼ˆå¿…è¦ï¼‰
1. è¦å‰‡è¡¨è¨­è¨ˆèˆ‡è¼‰å…¥
2. åŸºæœ¬å…©æ®µç­é©—è­‰
3. ç•°å¸¸éæ¿¾ï¼ˆç¼ºå¡ã€å·¥æ™‚ä¸è¶³ï¼‰

### Phase 2ï¼šåŠ ç­æ”¯æ´ï¼ˆé‡è¦ï¼‰
1. åŠ ç­æ®µè­˜åˆ¥
2. å·¥æ™‚çµ±è¨ˆï¼ˆæ­£å¸¸+åŠ ç­ï¼‰
3. åŠ ç­è²»è¨ˆç®—

### Phase 3ï¼šé€²éšåŠŸèƒ½ï¼ˆå¯é¸ï¼‰
1. å½ˆæ€§æ®µæ•¸æ”¯æ´ï¼ˆ3æ®µç­ä»¥ä¸Šï¼‰
2. ç•°å¸¸å¿½ç•¥æ©Ÿåˆ¶
3. è‡ªå‹•é€šçŸ¥åŠŸèƒ½

---

## ğŸ“ é–‹ç™¼æª¢æŸ¥æ¸…å–®

- [ ] ç¢ºèªå®Œæ•´éœ€æ±‚
- [ ] è¨­è¨ˆè¦å‰‡è¡¨æ ¼å¼ï¼ˆèˆ‡ä½¿ç”¨è€…ç¢ºèªï¼‰
- [ ] å»ºç«‹è¦å‰‡ç¯„æœ¬ Excel
- [ ] å¯¦ä½œ `ShiftRuleManager`
- [ ] å¯¦ä½œ `ShiftValidator`
- [ ] å¯¦ä½œ `AnomalyFilter`
- [ ] æ’°å¯«å–®å…ƒæ¸¬è©¦
- [ ] æ•´åˆ GUI ç•Œé¢
- [ ] ä½¿ç”¨è€…é©—æ”¶æ¸¬è©¦
- [ ] æ’°å¯«ä½¿ç”¨æ‰‹å†Š

---

## ğŸ’¡ æŠ€è¡“è€ƒé‡

### å„ªå‹¢
- **è¦å‰‡é©…å‹•**ï¼šä¿®æ”¹è¦å‰‡ä¸éœ€æ”¹ç¨‹å¼ç¢¼
- **å¯æ¸¬è©¦**ï¼šæ¯å€‹æ¨¡çµ„å¯ç¨ç«‹æ¸¬è©¦
- **å¯æ“´å±•**ï¼šæ–°å¢çµ„åˆ¥åªéœ€åŠ  Excel è³‡æ–™

### é¢¨éšª
- **è¦å‰‡è¤‡é›œåº¦**ï¼šè¦å‰‡éæ–¼è¤‡é›œå¯èƒ½é›£ä»¥ç¶­è­·
- **æ•ˆèƒ½**ï¼šå¤§é‡è³‡æ–™é©—è­‰å¯èƒ½è¼ƒæ…¢ï¼ˆå¯å„ªåŒ–ï¼‰
- **ä½¿ç”¨è€…è¨“ç·´**ï¼šéœ€è¦æ•™è‚²ä½¿ç”¨è€…å¦‚ä½•ç¶­è­·è¦å‰‡è¡¨

### å»ºè­°
1. å…ˆå¾ç°¡å–®è¦å‰‡é–‹å§‹ï¼Œé€æ­¥æ“´å……
2. æä¾›è¦å‰‡é©—è­‰å·¥å…·ï¼ˆæª¢æŸ¥è¦å‰‡è¡¨æ˜¯å¦æ­£ç¢ºï¼‰
3. å»ºç«‹è©³ç´°çš„ä½¿ç”¨æ‰‹å†Šå’Œç¯„ä¾‹

---

**æœ€å¾Œæ›´æ–°**: 2025-12-07  
**å¾…è¨è«–å®Œæ•´éœ€æ±‚å¾Œå†é€²è¡Œé–‹ç™¼**
